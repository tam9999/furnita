<div id="quick-view-product" class="quickview-product" style="display: none">
  <div class="quickview-overlay fancybox-overlay fancybox-overlay-fixed"></div>
  <div class="quick-view-product">
    <div class="block-quickview primary_block details-product">
      <div class="row">
        <div
          class="product-left-column product-images col-xs-12 col-sm-4 col-md-4 col-lg-5 col-xl-6">
          <div class="image-block large-image col_large_default">
            <span class="view_full_size">
              <a class="img-product" title="" href="javascript:;">
                <img
                  src="/assets/danhmuc_1.jpg"
                  id="product-featured-image-quickview"
                  class="img-responsive product-featured-image-quickview img-1"
                  alt="quickview" />
              </a>
            </span>
          </div>
          <div class="more-view-wrapper clearfix">
            <div
              class="thumbs_quickview owl_nav_custome1 swiper-container thumbs_list_quickview swiper-container-initialized swiper-container-horizontal swiper-container-pointer-events"
              id="thumbs_list_quickview">
              <ul
                class="product-photo-thumbs quickview-more-views-owlslider not-thuongdq swiper-wrapper"
                id="thumblist_quickview"
                style="transition-duration: 0ms; transform: translate3d(0px, 0px, 0px)">
                <li
                  class="swiper-slide swiper-slide-active"
                  style="width: 95.25px; margin-right: 15px">
                  <a href="javascript:void(0)">
                    <img
                      class="img-1"
                      src="/assets/danhmuc_1.jpg"
                      style="max-width: 120px; max-height: 120px" />
                  </a>
                </li>
                <li
                  class="swiper-slide swiper-slide-next"
                  style="width: 95.25px; margin-right: 15px">
                  <a href="javascript:void(0)">
                    <img
                      class="img-2"
                      src="/assets/danhmuc_2.jpg"
                      style="max-width: 120px; max-height: 120px" />
                  </a>
                </li>
                <li class="swiper-slide" style="width: 95.25px; margin-right: 15px">
                  <a href="javascript:void(0)">
                    <img
                      class="img-3"
                      src="/assets/danhmuc_3.jpg"
                      style="max-width: 120px; max-height: 120px" />
                  </a>
                </li>
                <li class="swiper-slide" style="width: 95.25px; margin-right: 15px">
                  <a href="javascript:void(0)">
                    <img
                      class="img-4"
                      src="/assets/danhmuc_4.jpg"
                      style="max-width: 120px; max-height: 120px" />
                  </a>
                </li>
              </ul>
              <div class="swiper-button-prev swiper-button-disabled"></div>
              <div class="swiper-button-next"></div>
            </div>
          </div>
        </div>

        <div
          class="product-center-column product-info product-item col-xs-12 col-sm-6 col-md-8 col-lg-7 col-xl-6 details-pro style_product style_border">
          <div class="head-qv group-status">
            <h3 class="qwp-name title-product">
              <a class="text2line"> </a>
            </h3>
          </div>
          <div class="quickview-id"></div>

          <div class="quickview-info"></div>

          <div class="product-summary"></div>

          <div class="product-description"></div>
        </div>
      </div>
    </div>
    <a title="Close" class="quickview-close close-window" href="javascript:;">
      <svg
        aria-hidden="true"
        focusable="false"
        data-prefix="far"
        data-icon="times"
        role="img"
        xmlns="http://www.w3.org/2000/svg"
        viewBox="0 0 320 512"
        class="svg-inline--fa fa-times fa-w-10">
        <path
          fill="currentColor"
          d="M207.6 256l107.72-107.72c6.23-6.23 6.23-16.34 0-22.58l-25.03-25.03c-6.23-6.23-16.34-6.23-22.58 0L160 208.4 52.28 100.68c-6.23-6.23-16.34-6.23-22.58 0L4.68 125.7c-6.23 6.23-6.23 16.34 0 22.58L112.4 256 4.68 363.72c-6.23 6.23-6.23 16.34 0 22.58l25.03 25.03c6.23 6.23 16.34 6.23 22.58 0L160 303.6l107.72 107.72c6.23 6.23 16.34 6.23 22.58 0l25.03-25.03c6.23-6.23 6.23-16.34 0-22.58L207.6 256z"
          class=""></path>
      </svg>
    </a>
  </div>
</div>

<script type="text/javascript">
  function changeImageQuickView(img, selector) {
    var src = $(img).attr('src')
    src = src.replace('_compact', '')

    $(selector).attr('src', src)
  }

  function clear() {
    $('.text2line').empty()
    $('.quickview-id').empty()
    $('.quickview-info').empty()
    $('.product-summary').empty()
    $('.product-description').empty()
  }
</script>
<script>
  var thumbsListQuickview = new Swiper('.thumbs_list_quickview', {
    spaceBetween: 5,
    slidesPerView: 20,
    lazy: true,
    watchSlidesVisibility: true,
    watchSlidesProgress: true,
    slideToClickedSlide: true,
    breakpoints: {
      300: {
        slidesPerView: 'auto',
        spaceBetween: 15,
      },
      640: {
        slidesPerView: 3,
        spaceBetween: 15,
      },
      768: {
        slidesPerView: 2,
        spaceBetween: 30,
      },
      1024: {
        slidesPerView: 3,
        spaceBetween: 30,
      },
      1200: {
        slidesPerView: 3,
        spaceBetween: 43,
      },
    },
  })

  $(document).on('click', '#thumblist_quickview li', function () {
    changeImageQuickView($(this).find('img:first-child'), '.product-featured-image-quickview')
    $('#thumblist_quickview li').removeClass('active')
    $(this).addClass('active')
  })
  $(document).on('click', '.quick-view', function (e) {
    if ($(window).width() > 1025) {
      e.preventDefault()
    }
  })

  $(document).on(
    'click',
    '.quickview-close, #quick-view-product .quickview-overlay, .fancybox-overlay',
    function (e) {
      $('#quick-view-product').fadeOut(0)
      clear()
      awe_hidePopup()
    }
  )

  var modal = $('.quickview-product')
  var span = $('.quickview-close')

  $('.quick-view').click(function () {
    const id = $(this).attr('data-id')
    $.ajax({
      url: `/product/quick-view/${id}`,
      type: 'GET',
      dataType: 'json',
      data: {},
    }).done((product) => {
      $('.img-1').attr('src', product.images[0])
      $('.img-2').attr('src', product.images[1])
      $('.img-3').attr('src', product.images[2])
      $('.img-4').attr('src', product.images[3])
      $('.text2line').text(product.title)
      $('.quickview-id').append(`<p><strong>Product code: </strong>${product.id}</p>`)
      $('.quickview-info').append(`<p><strong>Material: </strong>${product.material}</p>`)
      $('.product-summary').append(`<p><strong>Size: </strong>${product.size}</p>`)
      $('.product-description').append(
        `<p><strong>Description: </strong>${product.description}</p>`
      )
      modal.show()
    })
  })

  span.click(function () {
    clear()
    modal.hide()
  })

  $(window).on('click', function (e) {
    if ($(e.target).is('.modal')) {
      clear()
      modal.hide()
    }
  })
</script>
